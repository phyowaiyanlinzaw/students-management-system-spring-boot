<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>
<body>
<button id="send-button" class="btn btn-primary">Send Email</button>
<div class="spinner-border text-primary" id="loading-spinner" style="display: none;"></div>

</body>
<script>
  $(document).ready(function () {
    $("#send-button").click(function () {
      // Show loading spinner
      $("#loading-spinner").show();

      // Disable the button to prevent multiple clicks
      $(this).prop("disabled", true);

      // Send an AJAX request to the controller's action
      $.ajax({
        type: "GET",
        url: "/sendMail", // The URL of your controller's action
        success: function (response) {
          // Hide loading spinner
          $("#loading-spinner").hide();

          // Enable the button
          $("#send-button").prop("disabled", false);

          // Show success message (or handle errors here)
          alert("Email sent successfully!");
        },
        error: function (error) {
          // Hide loading spinner
          $("#loading-spinner").hide();

          // Enable the button
          $("#send-button").prop("disabled", false);

          // Handle error (e.g., display an error message)
          alert("Error sending email: " + error.statusText);
        }
      });
    });
  });
</script>


</html>